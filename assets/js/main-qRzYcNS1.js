var e,t,n,a,r,i,o,s,l,c,d,m,u,p,h,y,g,f,v,b,w,k,E,I,B,S,x,C,T,M,A,q,D,O,P,$,R,W=e=>{throw TypeError(e)},F=(e,t,n)=>t.has(e)||W("Cannot "+n),N=(e,t,n)=>(F(e,t,"read from private field"),n?n.call(e):t.get(e)),j=(e,t,n)=>t.has(e)?W("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),z=(e,t,n,a)=>(F(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),U=(e,t,n)=>(F(e,t,"access private method"),n);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const G="https://story-api.dicoding.dev/v1",H={REGISTER:`${G}/register`,LOGIN:`${G}/login`,STORIES:`${G}/stories`};const K="story-app-token",V="story-app-user";function Z(){return localStorage.getItem(K)}function J(){return!!Z()}function Y(e,t="info"){const n=document.querySelector(".notification");n&&n.remove();const a=document.createElement("div");a.className=`notification notification-${t}`,a.setAttribute("role","alert"),a.setAttribute("aria-live","polite"),a.textContent=e,document.body.appendChild(a),setTimeout(()=>{a.classList.add("show")},10),setTimeout(()=>{a.classList.remove("show"),setTimeout(()=>{a.remove()},300)},3e3)}function _(e,t="en-US",n={}){return new Date(e).toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric",...n})}e=new WeakMap,t=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakSet,i=async function(){if(!document.getElementById("map"))return;if("undefined"==typeof L)return void console.error("Leaflet is not loaded");z(this,e,L.map("map",{center:[-6.2088,106.8456],zoom:10,zoomControl:!0}));const t=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19}),n=L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"Â© OpenStreetMap contributors Â© CARTO",subdomains:"abcd",maxZoom:19}),a=L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:"Â© OpenStreetMap contributors Â© CARTO",subdomains:"abcd",maxZoom:19});t.addTo(N(this,e));const r={OpenStreetMap:t,"Carto Light":n,"Carto Dark":a};L.control.layers(r).addTo(N(this,e))},o=async function(){try{const e=Z(),t=await async function(e){const t=await fetch(H.STORIES,{method:"GET",headers:{Authorization:`Bearer ${e}`}});return await t.json()}(e);if(t.error)return void Y(t.message||"Gagal memuat cerita","error");z(this,n,t.listStory||[]),U(this,r,s).call(this),U(this,r,l).call(this),U(this,r,m).call(this)}catch(e){Y("Terjadi kesalahan saat memuat cerita","error"),console.error("Load stories error:",e)}},s=function(){const e=document.getElementById("stories-list");e&&(0!==N(this,n).length?(e.innerHTML=N(this,n).map(e=>`\n      <article \n        class="story-card ${N(this,a)===e.id?"active":""}" \n        data-story-id="${e.id}"\n        role="listitem"\n        tabindex="0"\n        aria-label="Cerita oleh ${e.name}"\n      >\n        <img \n          src="${e.photoUrl}" \n          alt="${e.description||"Foto cerita"}" \n          class="story-image"\n          loading="lazy"\n        />\n        <div class="story-content">\n          <h2 class="story-name">${e.name}</h2>\n          <p class="story-description">${e.description||"Tidak ada deskripsi"}</p>\n          <time class="story-date" datetime="${e.createdAt}">\n            ${_(e.createdAt,"id-ID")}\n          </time>\n        </div>\n      </article>\n    `).join(""),e.querySelectorAll(".story-card").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.storyId;U(this,r,c).call(this,t)}),e.addEventListener("keydown",t=>{if("Enter"===t.key||" "===t.key){t.preventDefault();const n=e.dataset.storyId;U(this,r,c).call(this,n)}})})):e.innerHTML='<p class="empty-text">Belum ada cerita. <a href="#/add-story">Tambahkan cerita pertama Anda!</a></p>')},l=function(){if(N(this,t).forEach(e=>e.remove()),z(this,t,[]),N(this,e)&&(N(this,n).forEach(n=>{if(n.lat&&n.lon){const a=L.marker([n.lat,n.lon]).addTo(N(this,e)).bindPopup(`\n            <div class="popup-content">\n              <img src="${n.photoUrl}" alt="${n.description||"Foto cerita"}" class="popup-image" />\n              <h3>${n.name}</h3>\n              <p>${n.description||"Tidak ada deskripsi"}</p>\n              <time datetime="${n.createdAt}">${_(n.createdAt,"id-ID")}</time>\n            </div>\n          `);a.on("click",()=>{U(this,r,c).call(this,n.id)}),N(this,t).push(a)}}),N(this,t).length>0)){const n=new L.featureGroup(N(this,t)).getBounds();N(this,e).fitBounds(n,{padding:[20,20]})}},c=function(r){z(this,a,r),N(this,n).find(e=>e.id===r),document.querySelectorAll(".story-card").forEach(e=>{e.classList.toggle("active",e.dataset.storyId===r)}),N(this,t).forEach(t=>{var a;(null==(a=N(this,n).find(e=>e.lat===t.getLatLng().lat&&e.lon===t.getLatLng().lng))?void 0:a.id)===r&&(t.openPopup(),N(this,e).setView(t.getLatLng(),N(this,e).getZoom(),{animate:!0}))});const i=document.querySelector(`[data-story-id="${r}"]`);i&&i.scrollIntoView({behavior:"smooth",block:"nearest"})},d=function(){const e=document.getElementById("story-filter");e&&e.addEventListener("change",e=>{const t=e.target.value;U(this,r,u).call(this,t)})},m=function(){const e=document.getElementById("story-filter");if(!e)return;const t=[...new Set(N(this,n).map(e=>e.name))];e.innerHTML='<option value="">Semua Cerita</option>',t.forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)})},u=function(e){const a=e?N(this,n).filter(t=>t.name===e):N(this,n);document.querySelectorAll(".story-card").forEach(e=>{const t=e.dataset.storyId,r=N(this,n).find(e=>e.id===t);e.style.display=a.includes(r)?"":"none"}),N(this,t).forEach(e=>{const t=N(this,n).find(t=>t.lat===e.getLatLng().lat&&t.lon===e.getLatLng().lng);t&&e.setOpacity(a.includes(t)?1:.3)})};p=new WeakMap,h=new WeakMap,y=new WeakMap,g=new WeakMap,f=new WeakMap,v=new WeakSet,b=async function(){document.getElementById("location-map")&&("undefined"!=typeof L?(z(this,p,L.map("location-map",{center:[-6.2088,106.8456],zoom:10,zoomControl:!0})),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19}).addTo(N(this,p)),N(this,p).on("click",e=>{U(this,v,w).call(this,e.latlng.lat,e.latlng.lng)})):console.error("Leaflet is not loaded"))},w=function(e,t){z(this,y,e),z(this,g,t),N(this,h)&&N(this,h).remove(),z(this,h,L.marker([e,t]).addTo(N(this,p)).bindPopup(`Lokasi: ${e.toFixed(6)}, ${t.toFixed(6)}`).openPopup());const n=document.getElementById("location-info"),a=document.getElementById("coordinates");n&&a&&(a.textContent=`${e.toFixed(6)}, ${t.toFixed(6)}`,n.style.display="block");const r=document.getElementById("location-error");r&&(r.textContent="")},k=function(){const e=document.getElementById("add-story-form"),t=document.getElementById("photo"),n=document.getElementById("preview-image"),a=document.getElementById("photo-preview"),r=document.getElementById("remove-preview");t.addEventListener("change",e=>{const t=e.target.files[0];t&&U(this,v,E).call(this,t,n,a)}),r&&r.addEventListener("click",()=>{t.value="",a.style.display="none";const e=document.getElementById("photo-error");e&&(e.textContent="")}),e.addEventListener("submit",async e=>{e.preventDefault(),await U(this,v,I).call(this)})},E=function(e,t,n){const a=new FileReader;a.onload=e=>{t.src=e.target.result,n.style.display="block"},a.readAsDataURL(e)},I=async function(){const e=document.getElementById("add-story-form"),t=document.getElementById("description"),n=document.getElementById("photo");document.getElementById("description-error").textContent="",document.getElementById("photo-error").textContent="",document.getElementById("location-error").textContent="";const a=t.value.trim(),r=n.files[0];let i=!1;if(a?a.length<10&&(document.getElementById("description-error").textContent="Deskripsi minimal 10 karakter",i=!0):(document.getElementById("description-error").textContent="Deskripsi harus diisi",i=!0),r?r.type.startsWith("image/")?r.size>5242880&&(document.getElementById("photo-error").textContent="Ukuran file maksimal 5MB",i=!0):(document.getElementById("photo-error").textContent="File harus berupa gambar",i=!0):(document.getElementById("photo-error").textContent="Foto harus diunggah",i=!0),N(this,y)&&N(this,g)||(document.getElementById("location-error").textContent="Silakan pilih lokasi di peta",i=!0),!i)try{const t=Z(),n=e.querySelector('button[type="submit"]');n.disabled=!0,n.textContent="Mengirim...";const i=await async function({token:e,description:t,photo:n,lat:a,lon:r}){const i=new FormData;i.append("description",t),i.append("photo",n),a&&r&&(i.append("lat",a),i.append("lon",r));const o=await fetch(H.STORIES,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:i});return await o.json()}({token:t,description:a,photo:r,lat:N(this,y),lon:N(this,g)});if(i.error)return Y(i.message||"Gagal menambahkan cerita","error"),n.disabled=!1,void(n.textContent="Tambah Cerita");Y("Cerita berhasil ditambahkan!","success"),window.location.hash="#/"}catch(o){Y("Terjadi kesalahan saat menambahkan cerita","error"),console.error("Add story error:",o);const t=e.querySelector('button[type="submit"]');t.disabled=!1,t.textContent="Tambah Cerita"}},B=function(){const e=document.getElementById("camera-button");document.getElementById("photo"),e&&e.addEventListener("click",async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return void Y("Kamera tidak didukung di perangkat ini","error");N(this,f)&&U(this,v,C).call(this),z(this,f,await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})),U(this,v,S).call(this)}catch(e){console.error("Camera error:",e),"NotAllowedError"===e.name?Y("Akses kamera ditolak. Silakan izinkan akses kamera.","error"):"NotFoundError"===e.name?Y("Kamera tidak ditemukan","error"):Y("Gagal mengakses kamera","error")}})},S=function(){const e=document.createElement("div");e.className="camera-modal",e.innerHTML='\n      <div class="camera-modal-content">\n        <div class="camera-preview-container">\n          <video id="camera-preview" autoplay playsinline></video>\n        </div>\n        <div class="camera-controls">\n          <button type="button" id="capture-button" class="btn-primary" aria-label="Ambil foto">ðŸ“· Ambil Foto</button>\n          <button type="button" id="cancel-camera-button" class="btn-secondary" aria-label="Batal">Batal</button>\n        </div>\n      </div>\n    ',document.body.appendChild(e);const t=document.getElementById("camera-preview"),n=document.getElementById("capture-button"),a=document.getElementById("cancel-camera-button");t.srcObject=N(this,f),n.addEventListener("click",()=>{U(this,v,x).call(this,t,e)}),a.addEventListener("click",()=>{U(this,v,C).call(this),e.remove()}),document.addEventListener("keydown",function t(n){"Escape"===n.key&&(U(this,v,C).call(this),e.remove(),document.removeEventListener("keydown",t))}.bind(this))},x=function(e,t){const n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;n.getContext("2d").drawImage(e,0,0),n.toBlob(e=>{if(e){const n=new File([e],"camera-photo.jpg",{type:"image/jpeg"}),a=new DataTransfer;a.items.add(n);const r=document.getElementById("photo");r.files=a.files,r.dispatchEvent(new Event("change",{bubbles:!0})),U(this,v,C).call(this),t.remove(),Y("Foto berhasil diambil","success")}},"image/jpeg",.9)},C=function(){N(this,f)&&(N(this,f).getTracks().forEach(e=>e.stop()),z(this,f,null))};const Q={"/":new class{constructor(){j(this,r),j(this,e,null),j(this,t,[]),j(this,n,[]),j(this,a,null)}async render(){return J()?'\n      <section class="container">\n        <article class="stories-section">\n          <header>\n            <h1>Daftar Cerita</h1>\n            <div class="map-controls">\n              <label for="story-filter" class="sr-only">Filter cerita</label>\n              <select id="story-filter" aria-label="Filter cerita berdasarkan nama">\n                <option value="">Semua Cerita</option>\n              </select>\n            </div>\n          </header>\n          <div class="stories-container">\n            <div class="stories-list" id="stories-list" role="list">\n              <p class="loading-text">Memuat cerita...</p>\n            </div>\n            <div class="map-container">\n              <div id="map" role="application" aria-label="Peta lokasi cerita"></div>\n            </div>\n          </div>\n        </article>\n      </section>\n    ':'\n        <section class="container">\n          <article class="welcome-section">\n            <h1>Selamat Datang di Story App</h1>\n            <p>Silakan <a href="#/login">masuk</a> atau <a href="#/register">daftar</a> untuk melihat cerita.</p>\n          </article>\n        </section>\n      '}async afterRender(){J()&&(await U(this,r,i).call(this),await U(this,r,o).call(this),U(this,r,d).call(this))}},"/login":new class{async render(){return'\n      <section class="auth-container">\n        <div class="auth-card">\n          <h1>Masuk</h1>\n          <form id="login-form" class="auth-form">\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input \n                type="email" \n                id="email" \n                name="email" \n                required \n                aria-required="true"\n                aria-label="Email address"\n              />\n              <span class="error-message" id="email-error" role="alert"></span>\n            </div>\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input \n                type="password" \n                id="password" \n                name="password" \n                required \n                aria-required="true"\n                aria-label="Password"\n              />\n              <span class="error-message" id="password-error" role="alert"></span>\n            </div>\n            <button type="submit" class="btn-primary">Masuk</button>\n          </form>\n          <p class="auth-link">\n            Belum punya akun? <a href="#/register">Daftar di sini</a>\n          </p>\n        </div>\n      </section>\n    '}async afterRender(){const e=document.getElementById("login-form"),t=document.getElementById("email"),n=document.getElementById("password");e.addEventListener("submit",async e=>{e.preventDefault();const a=t.value.trim(),r=n.value;document.getElementById("email-error").textContent="",document.getElementById("password-error").textContent="";let i=!1;var o,s;if(a||(document.getElementById("email-error").textContent="Email harus diisi",i=!0),r||(document.getElementById("password-error").textContent="Password harus diisi",i=!0),!i)try{const e=await async function({email:e,password:t}){const n=await fetch(H.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});return await n.json()}({email:a,password:r});if(e.error)return void Y(e.message||"Login gagal","error");e.loginResult&&(s=e.loginResult.token,localStorage.setItem(K,s),o=e.loginResult,localStorage.setItem(V,JSON.stringify(o)),Y("Login berhasil!","success"),window.location.hash="#/")}catch(l){Y("Terjadi kesalahan saat login","error"),console.error("Login error:",l)}}),e.addEventListener("keydown",t=>{if("Enter"===t.key&&"BUTTON"!==t.target.tagName){t.preventDefault();const n=Array.from(e.querySelectorAll("input")),a=n.indexOf(t.target);a<n.length-1?n[a+1].focus():e.querySelector('button[type="submit"]').focus()}})}},"/register":new class{async render(){return'\n      <section class="auth-container">\n        <div class="auth-card">\n          <h1>Daftar</h1>\n          <form id="register-form" class="auth-form">\n            <div class="form-group">\n              <label for="name">Nama</label>\n              <input \n                type="text" \n                id="name" \n                name="name" \n                required \n                aria-required="true"\n                aria-label="Full name"\n              />\n              <span class="error-message" id="name-error" role="alert"></span>\n            </div>\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input \n                type="email" \n                id="email" \n                name="email" \n                required \n                aria-required="true"\n                aria-label="Email address"\n              />\n              <span class="error-message" id="email-error" role="alert"></span>\n            </div>\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input \n                type="password" \n                id="password" \n                name="password" \n                required \n                minlength="8"\n                aria-required="true"\n                aria-label="Password"\n              />\n              <span class="error-message" id="password-error" role="alert"></span>\n            </div>\n            <button type="submit" class="btn-primary">Daftar</button>\n          </form>\n          <p class="auth-link">\n            Sudah punya akun? <a href="#/login">Masuk di sini</a>\n          </p>\n        </div>\n      </section>\n    '}async afterRender(){const e=document.getElementById("register-form"),t=document.getElementById("name"),n=document.getElementById("email"),a=document.getElementById("password");e.addEventListener("submit",async e=>{e.preventDefault();const r=t.value.trim(),i=n.value.trim(),o=a.value;document.getElementById("name-error").textContent="",document.getElementById("email-error").textContent="",document.getElementById("password-error").textContent="";let s=!1;if(r||(document.getElementById("name-error").textContent="Nama harus diisi",s=!0),i||(document.getElementById("email-error").textContent="Email harus diisi",s=!0),o?o.length<8&&(document.getElementById("password-error").textContent="Password minimal 8 karakter",s=!0):(document.getElementById("password-error").textContent="Password harus diisi",s=!0),!s)try{const e=await async function({name:e,email:t,password:n}){const a=await fetch(H.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})});return await a.json()}({name:r,email:i,password:o});if(e.error)return void Y(e.message||"Registrasi gagal","error");e.user&&(Y("Registrasi berhasil! Silakan login","success"),window.location.hash="#/login")}catch(l){Y("Terjadi kesalahan saat registrasi","error"),console.error("Register error:",l)}}),e.addEventListener("keydown",t=>{if("Enter"===t.key&&"BUTTON"!==t.target.tagName){t.preventDefault();const n=Array.from(e.querySelectorAll("input")),a=n.indexOf(t.target);a<n.length-1?n[a+1].focus():e.querySelector('button[type="submit"]').focus()}})}},"/add-story":new class{constructor(){j(this,v),j(this,p,null),j(this,h,null),j(this,y,null),j(this,g,null),j(this,f,null)}async render(){return J()?'\n      <section class="container">\n        <article class="add-story-section">\n          <header>\n            <h1>Tambah Cerita Baru</h1>\n          </header>\n          <form id="add-story-form" class="add-story-form" novalidate>\n            <div class="form-group">\n              <label for="description">Deskripsi <span class="required">*</span></label>\n              <textarea \n                id="description" \n                name="description" \n                rows="4" \n                required \n                aria-required="true"\n                aria-label="Deskripsi cerita"\n                placeholder="Ceritakan pengalaman Anda..."\n              ></textarea>\n              <span class="error-message" id="description-error" role="alert"></span>\n            </div>\n\n            <div class="form-group">\n              <label for="photo">Foto <span class="required">*</span></label>\n              <div class="photo-input-group">\n                <input \n                  type="file" \n                  id="photo" \n                  name="photo" \n                  accept="image/*" \n                  required \n                  aria-required="true"\n                  aria-label="Upload foto"\n                />\n                <button \n                  type="button" \n                  id="camera-button" \n                  class="btn-secondary"\n                  aria-label="Ambil foto dari kamera"\n                >\n                  ðŸ“· Ambil dari Kamera\n                </button>\n              </div>\n              <div id="photo-preview" class="photo-preview" style="display: none;">\n                <img id="preview-image" src="" alt="Preview foto" />\n                <button type="button" id="remove-preview" class="btn-remove" aria-label="Hapus preview">Ã—</button>\n              </div>\n              <span class="error-message" id="photo-error" role="alert"></span>\n            </div>\n\n            <div class="form-group">\n              <label for="location-map">Pilih Lokasi di Peta <span class="required">*</span></label>\n              <p class="help-text">Klik pada peta untuk memilih lokasi</p>\n              <div id="location-map" class="location-map" role="application" aria-label="Peta untuk memilih lokasi"></div>\n              <div id="location-info" class="location-info" style="display: none;">\n                <p>Koordinat: <span id="coordinates"></span></p>\n              </div>\n              <span class="error-message" id="location-error" role="alert"></span>\n            </div>\n\n            <div class="form-actions">\n              <button type="submit" class="btn-primary">Tambah Cerita</button>\n              <button type="button" class="btn-secondary" onclick="window.location.hash=\'#/\'">Batal</button>\n            </div>\n          </form>\n        </article>\n      </section>\n    ':'\n        <section class="container">\n          <article class="auth-required">\n            <h1>Autentikasi Diperlukan</h1>\n            <p>Silakan <a href="#/login">masuk</a> terlebih dahulu untuk menambahkan cerita.</p>\n          </article>\n        </section>\n      '}async afterRender(){J()&&(await U(this,v,b).call(this),U(this,v,k).call(this),U(this,v,B).call(this))}}};function X(){return function(e){let t="";return e.resource&&(t=t.concat(`/${e.resource}`)),e.id&&(t=t.concat("/:id")),t||"/"}(function(e){const t=e.split("/");return{resource:t[1]||null,id:t[2]||null}}(location.hash.replace("#","")||"/"))}class ee{constructor({navigationDrawer:e,drawerButton:t,content:n}){j(this,D),j(this,T,null),j(this,M,null),j(this,A,null),j(this,q,null),j(this,R,async e=>{N(this,q)&&(N(this,T).style.opacity="0",N(this,T).style.transform="translateY(10px)",await function(e=1e3){return new Promise(t=>setTimeout(t,e))}(200)),N(this,T).innerHTML=await e.render(),await e.afterRender(),N(this,T).style.transition="opacity 300ms ease, transform 300ms ease",N(this,T).style.opacity="1",N(this,T).style.transform="translateY(0)"}),z(this,T,n),z(this,M,t),z(this,A,e),U(this,D,O).call(this),U(this,D,P).call(this),U(this,D,$).call(this)}async renderPage(){const e=X(),t=Q[e];if(t){if(U(this,D,$).call(this),document.startViewTransition)try{await document.startViewTransition(async()=>{N(this,T).innerHTML=await t.render(),await t.afterRender()}).finished}catch(n){console.warn("ViewTransition gagal, fallback ke animasi manual:",n),await N(this,R).call(this,t)}else await N(this,R).call(this,t);z(this,q,t)}else N(this,T).innerHTML="<h1>404 - Page Not Found</h1>"}}T=new WeakMap,M=new WeakMap,A=new WeakMap,q=new WeakMap,D=new WeakSet,O=function(){N(this,M).addEventListener("click",()=>{const e=N(this,A).classList.toggle("open");N(this,M).setAttribute("aria-expanded",e)}),document.body.addEventListener("click",e=>{N(this,A).contains(e.target)||N(this,M).contains(e.target)||(N(this,A).classList.remove("open"),N(this,M).setAttribute("aria-expanded","false")),N(this,A).querySelectorAll("a").forEach(t=>{t.contains(e.target)&&(N(this,A).classList.remove("open"),N(this,M).setAttribute("aria-expanded","false"))})})},P=function(){const e=document.getElementById("logout-link");e&&e.addEventListener("click",e=>{e.preventDefault(),localStorage.removeItem(K),localStorage.removeItem(V),Y("Anda telah keluar","success"),U(this,D,$).call(this),window.location.hash="#/"})},$=function(){const e=J(),t=document.getElementById("add-story-link"),n=document.getElementById("login-link"),a=document.getElementById("register-link"),r=document.getElementById("logout-link");t&&(t.style.display=e?"":"none"),n&&(n.style.display=e?"none":""),a&&(a.style.display=e?"none":""),r&&(r.style.display=e?"":"none")},R=new WeakMap,document.addEventListener("DOMContentLoaded",async()=>{const e=new ee({content:document.querySelector("#main-content"),drawerButton:document.querySelector("#drawer-button"),navigationDrawer:document.querySelector("#navigation-drawer")});await e.renderPage(),window.addEventListener("hashchange",async()=>{await e.renderPage()})});
//# sourceMappingURL=main-qRzYcNS1.js.map
